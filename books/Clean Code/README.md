# Clean Code

## 1. 깨끗한 코드
- 코드는 그림과 같다
  - 못 그린 그림은 누가 봐도 알지만, 그림을 잘 그리는 것은 또 다른 영역이다
  - 나쁜 코드를 보는 안목 뿐만 아니라 좋은 코드를 작성하는 역량을 키워야 한다
- 좋은 코드는 세세한 사항, 메모리 누수, 오류 처리, 경쟁 상태, 일관성 없는 명명법 등등  
세세한 사항까지 신경 쓴 코드다
- "한 가지"에 집중해야 한다, 다양한 걸 할려고 하면 코드가 지저분해 진다
- 잘 쓴 문장처럼 읽혀야 한다
- 다른 사람이 고치기도 쉬워야 한다
- 중복을 피해야 한다
- 코드가 그 문제를 해결하기 위한 언어처럼 보여야 한다
- 새 코드를 짜면서 끊임 없이 기존 코드를 읽어야 하기에, 기존 코드를 잘 읽을 수 있도록 짜는것은  
새 코드를 짜는데도 매우 중요하다

## 2. 의미 있는 이름

### 의도를 분명히 밝혀라
- 변수(함수, 클래스)의 존재 이유, 수행 기능, 사용 방법을 명확히 드러낼 수 있어야 한다
- 코드가 단순하더라도 함축성이 있어서 맥락이 코드 자체에 명시적으로 드러나야 한다

### 그릇된 정보를 피하라
- 코드에 잘못된 정보를 남겨서는 안된다
- 변수 명은 오해가 없이 명료하게

### 의미 있게 구분하라
- 저자의 의도, 정보를 제공할 수 있는 명확한 구분되는 단어를 사용해라
    - Info, Data 같은 단어들은 구분이 되질 않는다

### 발음하기 쉬운 이름을 사용하라
- 발음하는 것도 뇌의 중요한 부분인데 이러한 것을 사용하지 않는 것은 낭비이다
또한 커뮤니케이션 과정에서 발음할 일이 많기에, 발음하기 좋은 이름을 사용하라

### 검색하기 쉬운 이름을 사용하라
- 코드를 작성하다 검색을 해야할 일이 생기는데, 특히 상수의 경우 상수 값으로
검색하면 검색의 범위가 너무 넓어진다
- 그러니 검색하기 쉬운 특정이 잘되는 그러한 변수 명을 사용하자

### 인코딩을 피하라
- 인코딩 정보를 변수에 포함하면 읽을때 방해되며, 나중에는 무시하게 된다
- 접두사로 이러한 정보를 나타낼려고 하지 말자
- 인터페이스와 구현체를 구분하기 위해서는 인터페이스에 `I` 같은 접두사를 쓰기보다는
구현체에 `Impl` 같은 단어를 사용해주자

### 매서드 이름
- 변수명은 명사가 적합
- 메서드는 동사가 적합

### 한 개념에 한 단어를 사용하라
- 하나의 의미를 사용하기 위해서는 하나의 단어만 사용해라
    - `fetch, retrieve, get` 이런 다양한 표현을 사용하면 일관성이 없다
    메서드 이름은 독자적이고 일관적이어야 한다
    그래야 주석을 뒤져보지 않고도 올바른 메서드를 선택할 수 있다
- 대신 같은 맥락의 로직만 같은 단어를 사용하라

### 의미 있는 맥락을 추가하라
- `state` 란 단어로는 주소의 일부라고 판단하기 힘들 수 있음
이럴때는 주소 관련된 모든 변수에 `Addr` 같은 접두사를 사용하는 것도 방법
- 또는 하나의 클래스로 묶어서 하나의 맥락 안에 들어간다는 것을 명시하는 것도
좋은 방법이다

### 불필요한 맥락을 없애라
- 일반적으로 의미가 분명하다면 짧은 이름이 긴 이름보다 낫다
    - 불필요한 맥락을 추가하지 않도록 주의해라


## 3. 함수
### 작게 만들어라
- 함수는 일반적으로 작게 만들수록 좋다
- `if/else/while` 문에 들어가는 블록은 한줄이어야 한다
### 한 가지만 해라
- **함수는 한 가지를 해야 한다**
- 그 한 가지만 하고, 그 한 가지를 잘 해야한다
- 지정된 함수 이름 아래에서 추상화 수준이 하나인 단계만 수행하면
그 함수는 한 가지 작업만 한다
- 의미 있는 이름으로 다른 함수를 추출할 수 있다면
그 함수는 여러 작업을 하는 셈이다
### 함수당 추상화 수준은 하나로
- 함수가 확실히 “한 가지” 작업만 하려면 함수 내 모든 문장의 추상화 수준이
동일해야 한다
- 한 함수 내에서 추상화 수준을 섞으면 코드를 읽는 사람이 헷갈린다
    - 특정 표편이 근본 개념인지 아니면 세부사항인지 구분하기 어려워진다
### 내려가기 규칙
- 코드는 위에서 아래로 이야기처럼 읽혀야 좋다
- 한 함수 다음에는 추상화 수준이 한 단계 낮은 함수가 온다
    - 즉, 위에서 아래로 프로그램을 읽으면 함수 초상화 수준이 한 번에 한 단계씩 낮아진다
### `Switch` 문
- `switch` 문은 태생적으로 n 개의 일을 한다
    - 그렇기에 SRP를 위반하며, `case` 가 추가될때마다 코드를 수정해야 해서
    OCP도 위반한다
- 이것을 해결할 방법은 추상화를 이용하는 것이다
    - 추상화된 딱 한곳에서만 Switch 문을 사용하도록 할 수 있다
### 서술적인 이름을 사용하라
- 코드를 읽으면서 짐작했단 기능을 그대로 수행하도록
서술적인 이름을 사용하라
- 함수가 작고 단순할수록 서술적인 이름을 고르기도 쉽다
- 또한 이름을 붙일때는 일관성이 있어야 한다
### 함수 인수
- 함수 인수는 적을 수록 좋다
- 함수 이름과 인수 사이에 추상화 수준이 다른 경우도 발생할 수 있으며 <br>
테스트를 할때도 함수가 많으면 힘들다
### 부수 효과를 일으키지 마라
- 함수가 부수 효과를 수행하면 이름과 달리 예상치 못한 효과를 일으킬 수 있다
### 출력 인수
- 일반적으로 우리는 인수를 함수 입력으로 해석한다
    - 인수를 출력인수로 사용하는 경우 어색함을 느끼게 된다
### 명령과 조회를 분리하라
- 함수는 뭔가를 수행하거나 뭔가를 답하거나 둘 중 하나만 해야한다
- 둘 다 하면 혼란을 초래한다
### `Try/Catch` 블록 뽑아내기
- try/catch 블록은 정상 동작과 오류 처리 동작을 뒤섞기에 좋지 않다
- 함수는 “한 가지” 작업만 해야 하는데, 오류 처리도 “한 가지” 작업에 속한다.
그래서 오류를 처리하는 함수는 오류만 처리하는게 좋다
### 함수를 어떻게 짜죠?
- 함수를 잘때 처음에는 길고 복잡하고, 중복된 루프, 들여쓰기도 많을 수 있다
    - 하지만 이런 코드를 빠짐없이 테스트 하는 단위 테스트 케이스를 만든다
- 그런 다음 코드를 다듬고, 함수를 만들고, 이름을 바꾸고, 중복을 제거하고,
메서드를 줄이고 순서를 바꾸며 때로는 전체 클래스를 쪼개기도 한다
    - 이 와중에도 코드는 항상 단위 테스트를 통과한다